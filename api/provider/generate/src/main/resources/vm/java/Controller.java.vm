package ${basePackage}.controller.${moduleName};

import com.yrsoft.utils.JsonResult;
import com.yrsoft.utils.StringUtils;
import ${package}.entity.${className};
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import java.util.Map;
import ${package}.service.${className}Service;



/**
 * ${tableComment} 信息操作处理
 * 
 * @author ${author}
 * @date ${datetime}
 */
@RestController
@RequestMapping("/${moduleName}/${classname}")
public class ${className}Controller
{

	@Autowired
	private ${className}Service ${classname}Service;
	


	
	/**
	 * 查询${tableComment}列表
	 */
	@PostMapping("/list")
	public JsonResult list(@RequestParam Map<String,Object> param)
	{
        Integer page = param.get("page")!= null ? Integer.parseInt(StringUtils.objToStr(param.get("page"))) : 1 ;
        Integer limit = param.get("limit")!= null ? Integer.parseInt(StringUtils.objToStr(param.get("limit"))) : 10 ;
        try {
            return ${classname}Service.select${className}List(page,limit,param);
        } catch (Exception e) {
            return JsonResult.error(207,"服务器错误");
        }

	}
	
	/**
	 * 新增保存${tableComment}
	 */
	@PostMapping("/add")
	public JsonResult addSave(@RequestParam Map<String,Object> param)
	{
        try {
            return ${classname}Service.insert${className}(param);
        } catch (Exception e) {
            return JsonResult.error(207,"服务器错误");
        }

	}

	/**
	 * 修改保存${tableComment}
	 */

	@PostMapping("/edit")
	public JsonResult editSave(@RequestParam Map<String,Object> param)
	{
        try {
            return ${classname}Service.update${className}(param);
        } catch (Exception e) {
            return JsonResult.error(207,"服务器错误");
        }

	}
	
	/**
	 * 删除${tableComment}
	 */
	@PostMapping( "/remove")
	public JsonResult remove(@RequestParam Map<String,Object> param)
	{
	    String ids = StringUtils.objToStr(param.get("ids"));
        if (StringUtils.isBlank(ids)) {
			return JsonResult.error(201,"请传入要删除的编号");
        }
        try {
            return ${classname}Service.delete${className}ByIds(ids);
        } catch (Exception e) {
            return JsonResult.error(207,"服务器错误");
        }
	}
	
}
